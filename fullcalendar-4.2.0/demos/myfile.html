<!-- https://stackoverflow.com/questions/57154298 -->

<link rel="stylesheet" href="../packages/core/main.css" />
<link rel="stylesheet" href="../packages/daygrid/main.css" />

<div class="container">
    <button type='button' id='days' onclick='allSelectedDays()'>GET Days</button>
    <div id="calendar"></div>

</div>

<script src="../packages/core/main.js"></script>
<script src="../packages/daygrid/main.js"></script>
<script src="../packages/interaction/main.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
            plugins: ['dayGrid', 'interaction'],
            defaultView: 'dayGridMonth',
            dateClick: function (info) {
                //alert('Clicked on: ' + info.dateStr);
                //alert('Coordinates: ' + info.jsEvent.pageX + ',' + info.jsEvent.pageY);
                //alert('Current view: ' + info.view.type);
                // change the day's background color just for fun
                if ( info.dayEl.style.backgroundColor === 'red') {
                    info.dayEl.style.backgroundColor = ''
                    info.dayEl.className=info.dayEl.className.replace(" selected","");
                } else {
                    info.dayEl.style.backgroundColor = 'red';
                    info.dayEl.className+=' selected';
                }
               // info.dayEl.style.backgroundColor = 'red';
                
            },
            events: [{
                title: 'Teste',
                start: '2019-07-17',
                end: '2019-07-18',
                backgroundColor: '#red',
                borderColor: '#red'
            }],
            weekNumbers: true,
            weekNumberCalculation: 'ISO',
            selectable: true
        });

        calendar.render();
    });
</script>
<script>
    function allSelectedDays() {
        //var days = $("#calendar table tbody td").css();
        var days=document.getElementsByClassName('selected');
        var selected=[];
        for (let i = 0; i < days.length; i++) {
            selected.push(days[i].getAttribute('data-date'));
        }
        console.log(selected);
        

    }
</script>